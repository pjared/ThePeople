# Branch (Urgent) - Production
- Make videos to show people how to apply for candidate (2FA and email validation)

- Switch to forge to work with queues (mailing)

- Push everything to production, make sure that its working. Then move on.
    - Need to make sure that 2fa and email middleware works for candidate application on production
        - Make videos to show people how to do this

- 403 needs to redirect to sign in pagee
- Make sure socialite works and creates the users correctly

- Need to make a candiate layout
- Fix Candidate aside

# Branch - Candidate Flags
- A proper library for commenting/liking
    - https://github.com/beyondcode/laravel-comments.git
- Put flag comparison page on candidate profile page???
    - Should do an above hover to choose color
    - Look for a library that does that same thing as kindle/apple book note (or scripture)

- Show users a page of flags for their ballots

- On hover, add the number of red/green/nuetral flags

# Branch (High) - Manual Candidate Creation
- Need to make an admin page to create the candidates profile if none of them decide to sign up
- After signing up, you can assign candidates to their existing ID to replace their profile with the correct information



# Branch - Policies
- Need to look into politcies for better authorization of actions https://laravel.com/docs/9.x/authorization

# Branch - Page loads
- Need to turn the ballot and profile into a wire so I can defer load them
- Implement lazy loading for images
    - https://laravel-livewire.com/docs/2.x/defer-loading

# Branch - High web traffic
- Look into laravel Octane and swoole/roadrunner

# Branch - Sharing
- Create share buttons to share the candidates you like
- Create a share button to share you voting list
- Set up open graph meta tags when I implement share buttons

# Branch - Testing
- Need to also run dusk tests as prod

- End to end tests for the following
    -> User edits their candidate profile, adds necessary info
        -> Candidate hits show
            -> Candidate appears on the ballot
            -> User can flag information from the candidate

- Make sure that user can save their votes for a ballot
    -> User votes for a candidate
    -> User refreshes pagesa
        ->Vote should still be there

- Make sure flags are saved
    -> User clicks on a flag
    -> User refreshes page
        -> Flag should still be there


- Admin Livewire Tests
    - User does show his profile
    - Approve new candidate
    - Candidate Ballot Assignment
    - Create a ballot
    - Permalinks

- In the candidate preview script, uncomment the addFlag call so it only changes the color


# Branch - Sitemap
- Wasn't entirely sure how to do this, so i'm going to wait until I get a handful of candidates to sign up
- [Sitemap File](../config/sitemap.php)
- https://github.com/spatie/laravel-sitemap
- Need to regenerate the site map every time a candidate hits "show"

# Branch (Low) - Information Rework
- Ballots should have an information type. This will be a list of information that appears on the ballot
    - If there is a school union board, the candidates will have different information to fill out
    - When a candidate runs for a certain position, different wording/information needs to appear
        - Controversial Opinions depend on the ballot, not the location
        - "Promises" should be "Promises to stand for the following beliefs" when dealing with congress
            - Might work around this by saying "This candidate promises to accomplish something in office, or promises to stand for the following beliefs"

# Branch - Security
- https://github.com/bepsvpt/secure-headers
    - Not sure if this is for the php 7 header problem

# General Lists
- Run lighthouse on live site for optimizations

- Find out how to turn off email and set up 2FA for local

- Carousel focus should not refocus the page

- Add a search bar for users to find candidates or ballots
    - Look into caching to implement this

- Get ready to move to vapor to scale
- Can use laravel envoyer for 0 downtime updates
- uptime monitoring for notifying when site is down (uptimeRobot)

- User Votes needs an isValid? Or do I just want to check the state that the user has included

- Make a setting to change whether or not the dropdown indicators appear
    - The dropdowns on the opinions make the page a lot less intuitive


- Candidates show support for certain bills (The company creates)
- Can message the candidate from the site, but then we can use the message data to see what people feel about the candidate

- Put a link to state government

- Need to either paginate the candidates or make the elements scrollabe (when the list of candidates is long)
    - This includes the ballot list

- "See who's running for" is slightly too fast at the end (Only on first time)

- Need to write an SQL script that will be able to refresh tables and save candidates and new user ID's in case of bad migration

- Find another way to generate badges for the candidate

- Signing in should take back to most recent page

- Print out/save list of planned votes

- As candidate profile gets more detailed (graphs, nicer displays, etc.), componetize each section

- Show flag count under candidate in ballot for signed in users

- tooltip hover to see the description of opinions

- Give badges actual icons
    - Add icons next to opinions, act as tooltips - these icons will match the badges on candidates

- Need to make info tags for everything on the site

- Make better videos to show the candidates how to create a profile.

- Make admin home page into a grid

- Allow users to choose a profile photo?

- Set Opinion votes amount (hardcoded for now)

- Candidate show blade
    - Make candidate bio look better

- Add a button to go to profile page from profile and edit page

- Change ballot card
    - Daisy component "hero"
    - Figure out the profile picture look

- Make sure to actually block users from profile photos.

- Send Spatie a postcard with hometown and what packages i'm using
    - Our address is: Spatie, Kruikstraat 22, 2018 Antwerp, Belgium.

- Make about us page

- Programs for scraping/handling downloads off of gov't site
    - Laws voted on in office
    - Campaign Donations

- Flash error messages on failure to update info in candidate profile edit

- Allow for friends to share their flags

## Hard
- CandidateEditProfile
    - Promises should show up immediately (this is a tough one)

- Need to get down with service injection.
    - https://laravel.com/docs/9.x/container

# Branch - Socialite
- Not entirely sure if socialite is going to mess with my 2FA and verification
- Need to look into how i'm going to store the socialite tokens and user IDs

- Allow users to sign in with their twitter, fb, and gmail accounts
    - https://serversideup.net/installing-configuring-laravel-socialite/

- Google sign-in Notes
    - https://developers.google.com/identity/sign-in/web/sign-in
- Facebook sign in notes
    - https://developers.facebook.com/apps/428065152683086/fb-login/quickstart/

- Socialite buttons copied from: https://github.com/joelbutcher/socialstream/blob/3.x/stubs/livewire/resources/views/components/


# Admin Page, Future additions
- A lot of these below will be handled with a proper admin panel
    - Decide how to handle rejected candidates
        - Have a search bar to unreject
    - Each admin page needs to be componetized so creation of models is it's own wire
    - The following pages need to have null checks
        - Candidate edit page needs to have a check for when a person accesses the link without a candidate
        - Admin/candidate-assignment

    - Pagination for all model lists
    - Admin Page for:
        - Generate a QR code (Do this with official logo later, for now just use some random thing)
    - ALLOW USER TO SHARE CANDIDATE PERMALINK WITH A SHARE BUTTON (should include flags?)

    - On admin create ballot, add in list generation as the person attempts to
        - create a new location, ballot, or office

    - Finish Candidate Ballot assignment
        - Ballot search bar
    - Approving a candidate should bring you to a new page only for assigning them a ballot.

# Branch (Post Generals) - Candidate Media Teams
- Do this after site launch, make teams work, look at sites below for help
    - https://npratley.net/disabling-personal-teams-in-laravel-8-and-jetstream-1fd083593e08/
    - https://laracasts.com/discuss/channels/code-review/proper-way-to-disable-personal-teams-in-jetstream?page=1#reply=668759
    - https://github.com/laravel/jetstream/issues/117
    - Create a team for the user with https://laracasts.com/discuss/channels/code-review/jetstream-how-to-programmatically-create-a-user-and-team
- Finish logic for whether or not someone can create a team in [Team Policy::create](app/Policies/TeamPolicy.php)
    - Candidates can create ONE team

# User Pivots that need to be implemented
- Badges should also be on profile??
- Each badge needs to be it's own color
- Hovering over a law gives a summary, might need to find another site that does this

# View modifications that need to be split into feature branches

## Ballot Page
- Make this look like textured paper

## My Profile Page

### Personal Information
- Allow the user to put in their zip, city, or state
    - Autofill this for them on the page? Or just make the buttons clickable
- Need to track amount of time a user spends on a page for candidate stats

### Jump back into
- Have a right side tab that will allow the user to go back to their study instead of manually doing the input
    - Use a cookie (don't store in db)

# Politican Page
- Dip toes in water with service injection to display politician metrics
    - https://laravel.com/docs/9.x/container
    - Look into pyscript to see if I should use matplotlib to display graphs for politician side

# Future things
- Make a javascriptless site

- Turn Campaign donors into pie graph (just like opensecrets)

- Share buttons for social media
    - Interactive filters for social media, such as the head tilts
    - Can also use this to skim more data and give better recommendations, "We think you will like this candidate more"

- Make the seeder.md table

- Allow Candidates to request a change of ballot

# Branch - Additional laravel tools
- https://github.com/barryvdh/laravel-ide-helper
- https://github.com/itsgoingd/clockwork
- https://github.com/barryvdh/laravel-debugbar
- https://laravel-auditing.com/+

# Other programming stuff to look up
- Shortcut that will copy a line and paste it into current

# Branches with basic implementation, not finished

## Branch - Screen Support
- I've already added the most basic support so that it works on mobile
- This definitely needs to be polished up for everything tho

## Branch - Model Safety
- Need to talk to someone knowledgeble in laravel cybersecurity about the following
    - What to hide in my models
    - How to keep the uservotes and userflags tables safe from being accessed
    - Overall site health from attacks
- If hiding data (in the candidate model) interferes with other things, here is th docs to fix it up
    - https://laravel.com/docs/9.x/eloquent-serialization#temporarily-modifying-attribute-visibility
